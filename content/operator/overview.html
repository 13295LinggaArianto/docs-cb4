<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  </head>

<body>
<article class="doc">
<h1>Overview</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The Couchbase Operator provides native integration with Kubernetes that enables
you to automate the management of common Couchbase tasks such as the
configuration, creation, upgrade, and scaling of Couchbase clusters. By reducing
the complexity of running a Couchbase cluster, it lets you focus on the
desired configuration and not worry about the details of manual
deployment and lifecycle management.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="how-it-works"><a class="anchor" href="#how-it-works"></a>How It Works</h3>
<div class="paragraph">
<p>The Couchbase Operator extends the Kubernetes API by creating a Custom
Resource Definition(CRD) and registering a Couchbase specific
controller(the Operator) to manage Couchbase clusters. The CRD allows
you to define a configuration describing what a Couchbase cluster should
look like. For example, a configuration might define a cluster with
three nodes, one bucket, and 8GB of memory for the data service. Once
the configuration is loaded into Kubernetes, the configuration is passed
to the custom Couchbase controller which takes actions to ensure a
Couchbase cluster with the specified configuration is provisioned. The
controller can also detect updates to the configuration and reacts to
changes that occur in the cluster itself. Like all Kubernetes standard
built-in resources, the Couchbase Operator doesn’t just manage a single
Couchbase cluster but multiple Couchbase clusters across an entire
Kubernetes deployment.</p>
</div>
</div>
<div class="sect2">
<h3 id="why-not-just-use-statefulsets"><a class="anchor" href="#why-not-just-use-statefulsets"></a>Why Not Just Use StatefulSets</h3>
<div class="paragraph">
<p>StatefulSets are great for certain use cases, but they don’t work that
well when running complex software like databases. This is because
StatefulSets focus on creating and managing pods, not on managing the
software running on them. For example, if you wanted a 4-nodes cluster
and deployed Couchbase using StatefulSets, you would get 4 uninitialized
Couchbase pods that don’t know about each other. It would then be up to
you to cluster the nodes together, and this means extra operational
tasks.</p>
</div>
<div class="paragraph">
<p>By creating our own custom Couchbase controller, we can add Couchbase
specific knowledge so that as each Couchbase pod is deployed we can
properly configure it and join it with the other Couchbase pods in the
cluster. It’s also important to keep in mind that provisioning a cluster
is just one place where having a custom controller helps us to automate
tasks. Node failure, ad-hoc scaling, and many other management tasks
require Couchbase specific knowledge to manage Couchbase clusters.</p>
</div>
</div>
<div class="sect2">
<h3 id="what-it-supports"><a class="anchor" href="#what-it-supports"></a>What It Supports</h3>
<div class="paragraph">
<p>The goal of the Couchbase Operator is to fully manage one or more
Couchbase deployments so that you as a developer/SRE don’t need to worry
about the operational complexities of running Couchbase. This is,
however, our 0.7 Beta release, so not all features have been added yet.
Below is a list of the management tasks we currently support:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Cluster configuration</p>
</li>
<li>
<p>Cluster provisioning</p>
</li>
<li>
<p>Ad-hoc scalability</p>
</li>
<li>
<p>Auto recovery</p>
</li>
<li>
<p>Logging</p>
</li>
</ul>
</div>
</div>
</article>
</body>
</html>

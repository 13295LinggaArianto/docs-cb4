<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  </head>

 <body>
<article class="doc">
<h1>Updating a CouchbaseCluster</h1>
<div class="paragraph">
<p>Changes to a CouchbaseCluster should never be done manually as the
Operator will revert the changes if they do not match what is in the
configuration. Always update the cluster configuration using the
<code>kubectl</code> command. We recommend using either the <code>kubectl replace</code> or
<code>kubectl edit</code> command. If youâ€™re using OpenShift, use the <code>oc replace</code>
or <code>oc edit</code> command instead.</p>
</div>
<div class="paragraph">
<p>To use the <code>kubectl replace</code> command, first edit a field in the
Couchbase cluster configuration file stored on your local disk, and then
run the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl replace -f &lt;path to updated config&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Using the <code>kubectl edit</code> command you can edit the Couchbase cluster
configuration directly. For example, if your cluster name is
``cb-example'', use the following command to edit the configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">kubectl edit cbc cb-example</code></pre>
</div>
</div>
<div class="paragraph">
<p>This opens a text editor with the current configuration for the
<code>cb-example</code> cluster. You can then edit the configuration, save, and
then close the text editor. Upon closing the text editor, the changes
will be pushed back to Kubernetes.</p>
</div>
<div class="paragraph">
<p>It is important to remember that some fields in the Couchbase cluster
configuration cannot be edited after the cluster is created. The
<a href="couchbaseClusterConfig.adoc">Couchbase Cluster Configuration</a>
documentation notes such fields in their respective descriptions. The
current version does not support field validation.</p>
</div>
</article>
</body>
</html>

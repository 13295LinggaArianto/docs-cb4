<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  </head>

<body>
<article class="doc">
<h1>Status Conditions and Events</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The actions of the Couchbase Operator and the state of the cluster are
communicated using the standard Kubernetes convention.</p>
</div>
<div class="paragraph">
<p>In Kubernetes, you can normally view more information about an object
using the <code>kubectl describe</code> command which displays, among other things,
the <a href="https://kubernetes.io/docs/api-reference/v1.8/#event-v1-core">Events</a>
and
<a href="https://kubernetes.io/docs/api-reference/v1.8/#podcondition-v1-core">Conditions</a>
associated with the resource. Similarly, the Couchbase Operator exposes
the events and conditions for each CouchbaseCluster custom resource. If
youâ€™re using OpenShift, you should be able to do the same using the
<code>oc describe</code> command.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="events"><a class="anchor" href="#events"></a>Events</h3>
<div class="paragraph">
<p>The lifecycle of a CouchbaseCluster includes the following events (in no
particular order):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A new Couchbase node was added to the cluster.</p>
</li>
<li>
<p>A Couchbase node was removed from the cluster.</p>
</li>
<li>
<p>A rebalance has started.</p>
</li>
<li>
<p>Adding a node to the cluster failed.</p>
</li>
<li>
<p>A bucket was created.</p>
</li>
<li>
<p>A bucket was deleted.</p>
</li>
<li>
<p>A bucket was modified.</p>
</li>
<li>
<p>The Web Console service was created.</p>
</li>
<li>
<p>The Web Console service was deleted.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="conditions"><a class="anchor" href="#conditions"></a>Conditions</h3>
<div class="paragraph">
<p>The CouchbaseCluster conditions and their statuses are defined in the
following list:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Available</p>
<div class="ulist">
<ul>
<li>
<p>True: All members are up and all vBuckets are available.</p>
</li>
<li>
<p>False: One or more members are down and some vBuckets are
unavailable.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Balanced</p>
<div class="ulist">
<ul>
<li>
<p>True: The vBuckets are evenly distributed across the cluster.</p>
</li>
<li>
<p>False: The vBuckets are not evenly distributed across the cluster.</p>
</li>
<li>
<p>Unknown: The status is currently unknown.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Scaling</p>
<div class="ulist">
<ul>
<li>
<p>True: Scaling from current members size X to spec.size Y.</p>
</li>
<li>
<p>False: Reason for failure (e.g., No more nodes to place member due to
anti-affinity.)</p>
</li>
<li>
<p>Not present</p>
</li>
</ul>
</div>
</li>
<li>
<p>BucketManage</p>
<div class="ulist">
<ul>
<li>
<p>False: Creating, editing, or deleting a bucket failed.</p>
</li>
<li>
<p>Not present</p>
</li>
</ul>
</div>
</li>
<li>
<p>ConfigManage</p>
<div class="ulist">
<ul>
<li>
<p>False: A configuration change failed.</p>
</li>
<li>
<p>Not present</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</article>
</body>
</html>
